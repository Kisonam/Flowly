<div class="chart-card">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3>üìã –ú–∞–π–±—É—Ç–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è</h3>
    <a routerLink="/tasks" class="btn btn-sm btn-outline-primary">–í—Å—ñ</a>
  </div>
  <div>
    @if (tasks && tasks.length > 0) {
      <ul class="task-list">
        @for (task of tasks; track task.id) {
          <li class="task-item" [class.overdue]="task.isOverdue">
            <div class="task-content">
              <div class="task-header">
                <a [routerLink]="['/tasks', task.id]" class="task-title">
                  {{ task.title }}
                </a>
                <span class="badge" [ngClass]="getPriorityClass(task.priority)">
                  {{ task.priority }}
                </span>
              </div>
              <div class="task-meta">
                <span class="task-due-date" [class.text-danger]="task.isOverdue">
                  üìÖ {{ formatDueDate(task.dueDate) }}
                </span>
                <span class="badge" [ngClass]="getStatusClass(task.status)">
                  {{ task.status }}
                </span>
              </div>
            </div>
            @if (task.color) {
              <div class="task-color" [style.background-color]="task.color"></div>
            }
          </li>
        }
      </ul>
    } @else {
      <div class="empty-state">
        <p>–ù–µ–º–∞—î –º–∞–π–±—É—Ç–Ω—ñ—Ö –∑–∞–≤–¥–∞–Ω—å</p>
        <small>–í—Å–µ –≤–∏–∫–æ–Ω–∞–Ω–æ! üéâ</small>
      </div>
    }
  </div>
</div>
