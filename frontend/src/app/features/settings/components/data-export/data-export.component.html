<div class="data-export">
  
  <div class="section-card">
    <h2 class="section-title">{{ 'SETTINGS.EXPORT.MARKDOWN_TITLE' | translate }}</h2>
    <p class="section-description">
      {{ 'SETTINGS.EXPORT.MARKDOWN_DESCRIPTION' | translate }}
    </p>

    <button
      class="markdown-export-btn"
      (click)="exportMarkdown()"
      [disabled]="isExporting"
    >
      <div class="markdown-icon">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="12" y1="18" x2="12" y2="12"></line>
          <line x1="9" y1="15" x2="15" y2="15"></line>
        </svg>
      </div>
      <div class="markdown-info">
        <h3 class="markdown-title">{{ 'SETTINGS.EXPORT.MARKDOWN_BUTTON' | translate }}</h3>
        <p class="markdown-description">
          {{ 'SETTINGS.EXPORT.MARKDOWN_FILE_DESC' | translate }}
        </p>
      </div>
      <div class="markdown-action">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
          <polyline points="7 10 12 15 17 10"></polyline>
          <line x1="12" y1="15" x2="12" y2="3"></line>
        </svg>
      </div>
    </button>

    <div *ngIf="message" class="success-message">{{ message }}</div>
    <div *ngIf="error" class="error-message">{{ error }}</div>
  </div>

  <div class="section-card">
    <h2 class="section-title">{{ 'SETTINGS.EXPORT.DATA_TITLE' | translate }}</h2>
    <p class="section-description">
      {{ 'SETTINGS.EXPORT.DATA_DESCRIPTION' | translate }}
    </p>

    <div class="export-formats">
      <button
        *ngFor="let format of exportFormats"
        class="export-card"
        (click)="exportFormat(format.id)"
        [disabled]="isExporting"
      >
        <div class="export-icon">
          
          <svg *ngIf="format.icon === 'file-text'" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
            <polyline points="14 2 14 8 20 8"></polyline>
            <line x1="16" y1="13" x2="8" y2="13"></line>
            <line x1="16" y1="17" x2="8" y2="17"></line>
            <polyline points="10 9 9 9 8 9"></polyline>
          </svg>

          <svg *ngIf="format.icon === 'table'" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="3" y1="9" x2="21" y2="9"></line>
            <line x1="3" y1="15" x2="21" y2="15"></line>
            <line x1="9" y1="3" x2="9" y2="21"></line>
            <line x1="15" y1="3" x2="15" y2="21"></line>
          </svg>

          <svg *ngIf="format.icon === 'file'" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
            <polyline points="14 2 14 8 20 8"></polyline>
          </svg>
        </div>

        <div class="export-info">
          <h3 class="export-name">{{ format.name | translate }}</h3>
          <p class="export-description">{{ format.description | translate }}</p>
        </div>

        <div class="export-action">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
            <polyline points="7 10 12 15 17 10"></polyline>
            <line x1="12" y1="15" x2="12" y2="3"></line>
          </svg>
        </div>
      </button>
    </div>
  </div>

  <div class="section-card danger-zone">
    <h2 class="section-title">{{ 'SETTINGS.EXPORT.DANGER_ZONE_TITLE' | translate }}</h2>
    <p class="section-description">
      {{ 'SETTINGS.EXPORT.DANGER_ZONE_DESCRIPTION' | translate }}
    </p>

    <div class="danger-content">
      <div class="danger-info">
        <h3>{{ 'SETTINGS.EXPORT.DELETE_ALL_TITLE' | translate }}</h3>
        <p>
          {{ 'SETTINGS.EXPORT.DELETE_ALL_DESCRIPTION' | translate }}
        </p>
      </div>

      <button
        class="btn btn-danger"
        (click)="deleteAllData()"
        [disabled]="isExporting"
      >
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="3 6 5 6 21 6"></polyline>
          <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
          <line x1="10" y1="11" x2="10" y2="17"></line>
          <line x1="14" y1="11" x2="14" y2="17"></line>
        </svg>
        <span>{{ 'SETTINGS.EXPORT.DELETE_ALL_BUTTON' | translate }}</span>
      </button>
    </div>
  </div>
</div>
